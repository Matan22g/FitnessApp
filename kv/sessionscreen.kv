<AddExerciseContent>
    orientation: "vertical"
    spacing: "20dp"
    size_hint_y: None
    height: "33dp"

    MDTextField:
        hint_text: "Exercise name"
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter text"
        input_filter: app.proper_input_filter






<SessionScreen>:

    FloatLayout:
        on_touch_down:
        #backgroung press hides checkboxes
            caller = args[0]
            touch = args[1]
            print(touch.spos)
            if touch.spos[1]>0.92 and touch.spos[0]>0.2: root.show_checkbox("False")
            if touch.spos[1]>0.83 and touch.spos[1]<0.92 and touch.spos[0]<0.77: root.show_checkbox("False")
#            if touch.spos[1]>0.8: root.fix_grid_heights()

#            caller_touched = caller.collide_point(*touch.pos)
#            spawn_touched = [x.collide_point(*touch.pos) for x in self.walk(restrict = True) if x is not self]
#            print('caller -> {0}\ntouch -> {1}'.format(caller, touch))
#            ## Do stuff if touched and none of the spawn have been touched
#            if caller_touched and True not in spawn_touched: print('caller -> {0}\ntouch -> {1}'.format(caller, touch))


        MDRoundFlatIconButton:
            id: load_session
            width: dp(120)
            pos_hint: {"center_x": .2, "top": .98}
            text: "load"
            icon: "content-save"
            on_release: root.reload_previous_session()


        MDLabel:
            id: workout_name
            pos_hint: {"center_x": 0.2975, "top": .99+root.inc}
            size_hint: (.5, .15)
            font_size: "45sp"
            halign: "left"
            text: ""
            opacity:0
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color

#        MDRectangleFlatIconButton:
#            id: date_picker_label
#            icon: "calendar"
#            pos_hint: {"center_x": 0.8, "top": .9325+root.inc}
#            text: "Date: "
#            line_color: 0, 0, 0, 0
##            theme_text_color: "Custom"
##            text_color: app.theme_cls.primary_color
#            on_release: root.show_example_date_picker()
#
#
#        MDRectangleFlatIconButton:
#            id: date_picker_label_view
#            icon: "calendar"
#            pos_hint: {"center_x": 0.8, "top": .9325+root.inc}
#            text: "Date: "
#            line_color: 0, 0, 0, 0
##            theme_text_color: "Custom"
##            text_color: app.theme_cls.primary_color

        MDLabel:
            id: date_picker_label
            pos_hint: {"center_x": 0.99, "top": .98+root.inc}
            size_hint: (.5, .15)
            text: ""
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color

        MDIconButton:
            id: date_picker_icon
            pos_hint: {"center_x": 0.69, "top": .938+root.inc}
            icon: "calendar"
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color
            on_release: root.show_example_date_picker()

        MDLabel:
            id: timer
            pos_hint: {"center_x": 0.99, "top": .93+root.inc}
            size_hint: (.5, .15)
            font_size: "16sp"
            halign: "left"
            text: app.timer_format
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color

        MDLabel:
            id: timer_view
            pos_hint: {"center_x": 0.98, "top": .93+root.inc}
            size_hint: (.5, .15)
            font_size: "16sp"
            halign: "left"
            text: ""
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color

        MDIcon:
            pos_hint: {"center_x": 0.9055, "top": .93+root.inc}
            size_hint: (.5, .15)
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color
            icon: "clock-outline"

        MDIconButton:
            id: show_checkbox
            pos_hint: {"center_x": .858, "top": .975+root.inc}
            icon: "trash-can-outline"
            user_font_size: "32sp"
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color
            on_release: root.delete_selected()

#        MDIconButton:
#            id: delete_selected
#            user_font_size: "32sp"
#            pos_hint: {"center_x": .87, "top": .965}
#            icon: "trash-can"
#            theme_text_color: "Custom"
#            text_color: app.theme_cls.primary_color
#            on_release: root.delete_selected()

        MDLabel:
            id: num_to_delete
            pos_hint: {"center_x": 0.9999, "top": .98+root.inc}
            size_hint: (.47, .15)
            font_size: "16sp"
            halign: "left"
            text: ""
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color

        MDIconButton:
            id: add_exc
            user_font_size: "38sp"
            pos_hint: {"center_x": .5, "top": .985+root.inc}
            icon: "plus"
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color
            on_release: root.show_add_exercise_dialog()

#        MDIconButton:
#            id: start_exc
#            user_font_size: "45sp"
#            pos_hint: {"center_x": .5, "top": .15}
#            icon: "play"
#            theme_text_color: "Custom"
#            text_color: app.theme_cls.primary_color
#            on_release: root.start_session()

        ScrollView:
            id: scroll
            pos_hint: {"top": .84}
            size: self.size
            size_hint: 1., .85
            GridLayout:
                # Banner grid
                id: exc_cards
                cols: 1
                spacing: 20,0
                size_hint_y: None
                height: self.minimum_height
                row_force_default: True
                row_default_height: '175dp'
#            ThreeLineListItem:
#                text: "Three-line item"
#                secondary_text: "This is a multi-line label where you can"
#                tertiary_text: "fit more text than usual"
#                on_release: print("Click 2!")
#
#            ThreeLineListItem:
#                text: "Three-line item"
#                secondary_text: "This is a multi-line label where you can"
#                tertiary_text: "fit more text than usual"
#                on_release: print("Click 2!")
#
#            ThreeLineListItem:
#                text: "Three-line item"
#                secondary_text: "This is a multi-line label where you can"
#                tertiary_text: "fit more text than usual"
#                on_release: print("Click 2!")
#
#            ThreeLineListItem:
#                text: "Three-line item"
#                secondary_text: "This is a multi-line label where you can"
#                tertiary_text: "fit more text than usual"
#                on_release: print("Click 2!")
#
#
#            ThreeLineListItem:
#                text: "Three-line item"
#                secondary_text: "This is a multi-line label where you can"
#                tertiary_text: "fit more text than usual"
#                on_release: print("Click 2!")